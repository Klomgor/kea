kea_config_lib = library(
    'kea-config',
    'base_command_mgr.cc',
    'client_connection.cc',
    'cmd_http_listener.cc',
    'cmd_response_creator.cc',
    'command_mgr.cc',
    'config_log.cc',
    'config_messages.cc',
    'hooked_command_mgr.cc',
    'http_command_config.cc',
    'http_command_mgr.cc',
    'http_command_response_creator.cc',
    'unix_command_config.cc',
    'unix_command_mgr.cc',
    dependencies: [crypto],
    include_directories: [include_directories('.')] + INCLUDES,
    install: true,
    install_dir: 'lib',
    link_with: LIBS_BUILT_SO_FAR,
)
LIBS_BUILT_SO_FAR = [kea_config_lib] + LIBS_BUILT_SO_FAR
subdir('tests')
kea_config_headers = [
    'base_command_mgr.h',
    'client_connection.h',
    'cmd_http_listener.h',
    'cmd_response_creator.h',
    'cmd_response_creator_factory.h',
    'cmds_impl.h',
    'command_mgr.h',
    'config_log.h',
    'config_messages.h',
    'hooked_command_mgr.h',
    'http_command_config.h',
    'http_command_mgr.h',
    'http_command_response_creator.h',
    'http_command_response_creator_factory.h',
    'timeouts.h',
    'unix_command_config.h',
    'unix_command_mgr.h',
]
install_headers(kea_config_headers, preserve_path: true, subdir: 'kea/config')
